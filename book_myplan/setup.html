<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° â€” ScaleTrade</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="book-layout">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <a href="index.html" class="logo">
                    <div class="logo-icon">ğŸ“ˆ</div>
                    <span>ScaleTrade</span>
                </a>
            </div>
            
            <nav class="sidebar-nav">
    <div class="nav-section">
        <div class="nav-section-title">Intro</div>
        <a href="index.html" class="nav-link">ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ</a>
        <a href="setup.html" class="nav-link active">ğŸ›  Setup</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 0: Fundamentals</div>
        <a href="part0_internals.html" class="nav-link">0.1 Internals</a>
        <a href="part0_networking.html" class="nav-link">0.2 Networking</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 1: Postgres</div>
        <a href="part1_schema.html" class="nav-link">1.1 Schema</a>
        <a href="part1_indexes.html" class="nav-link">1.2 Indexes</a>
        <a href="part1_transactions.html" class="nav-link">1.3 Transactions</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 2: Litestar</div>
        <a href="part2_litestar.html" class="nav-link">2.1 Framework</a>
        <a href="part2_dishka.html" class="nav-link">2.2 DI (Dishka)</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 3: Brokers</div>
        <a href="part3_redis.html" class="nav-link">3.1 Redis</a>
        <a href="part3_faststream.html" class="nav-link">3.2 FastStream</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 4: Quality</div>
        <a href="part4_testing.html" class="nav-link">4.1 Pytest</a>
        <a href="part4_resiliency.html" class="nav-link">4.2 Resilience</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 5: Observability</div>
        <a href="part5_clickhouse.html" class="nav-link">5.1 Clickhouse</a>
        <a href="part5_logging.html" class="nav-link">5.2 Structured Logs</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 6: Django</div>
        <a href="part6_django.html" class="nav-link">6.1 ORM</a>
        <a href="part6_migrations.html" class="nav-link">6.2 Migrations</a>
        <a href="part6_quality.html" class="nav-link">6.3 Quality</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 7: Microservices</div>
        <a href="part7_grpc.html" class="nav-link">7.1 gRPC</a>
        <a href="part7_graphql.html" class="nav-link">7.2 GraphQL</a>
        <a href="part7_federation.html" class="nav-link">7.3 Federation</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 8: Async</div>
        <a href="part8_asyncio.html" class="nav-link">8.1 Asyncio</a>
        <a href="part8_celery.html" class="nav-link">8.2 Celery</a>
        <a href="part8_dramatiq.html" class="nav-link">8.3 Dramatiq</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 9: API</div>
        <a href="part9_restdesign.html" class="nav-link">9.1 REST Design</a>
        <a href="part9_idempotency.html" class="nav-link">9.2 Idempotency</a>
        <a href="part9_openapi.html" class="nav-link">9.3 OpenAPI</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 10: Culture</div>
        <a href="part10_git.html" class="nav-link">10.1 Git</a>
        <a href="part10_commits.html" class="nav-link">10.2 Commits</a>
        <a href="part10_codereview.html" class="nav-link">10.3 Post-Review</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 11: Security</div>
        <a href="part11_oauth.html" class="nav-link">11.1 OAuth2</a>
        <a href="part11_vault.html" class="nav-link">11.2 Vault</a>
        <a href="part11_owasp.html" class="nav-link">11.3 OWASP</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 12: Kubernetes</div>
        <a href="part12_kubernetes.html" class="nav-link">12.1 K8s Basics</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 13: High Load</div>
        <a href="part13_profiling.html" class="nav-link">13.1 Profiling</a>
        <a href="part13_caching.html" class="nav-link">13.2 Caching</a>
        <a href="part13_loadbalancing.html" class="nav-link">13.3 Load Balancing</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 14: ML Ops</div>
        <a href="part14_mlflow.html" class="nav-link">14.1 MLflow</a>
        <a href="part14_embeddings.html" class="nav-link">14.2 Embeddings</a>
        <a href="part14_llm.html" class="nav-link">14.3 LLM</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 15: Debugging</div>
        <a href="part15_debugging.html" class="nav-link">15.1 Debugging</a>
        <a href="part15_postmortem.html" class="nav-link">15.2 Postmortem</a>
        <a href="part15_chaos.html" class="nav-link">15.3 Chaos Eng</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 16: DB Advanced</div>
        <a href="part16_indexes.html" class="nav-link">16.1 Indexes Deep</a>
        <a href="part16_isolation.html" class="nav-link">16.2 Isolation</a>
        <a href="part16_sharding.html" class="nav-link">16.3 Sharding</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 17: System Design</div>
        <a href="part17_circuit.html" class="nav-link">17.1 Circuit Breaker</a>
        <a href="part17_ratelimit.html" class="nav-link">17.2 Rate Limit</a>
        <a href="part17_distlock.html" class="nav-link">17.3 Dist Lock</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 18: Soft Skills</div>
        <a href="part18_estimation.html" class="nav-link">18.1 Estimation</a>
        <a href="part18_burnout.html" class="nav-link">18.2 Burnout</a>
        <a href="part18_interview.html" class="nav-link">18.3 Interview</a>
    </div>
</nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="header">
                <div class="breadcrumb">
                    <a href="index.html">ScaleTrade</a>
                    <span>/</span>
                    <span>ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°</span>
                </div>
            </header>

            <div class="page-content">
                <h1>ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°</h1>
                <p class="lead">
                    Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ğ¼ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½ÑƒÑ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° Ñ Poetry, Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸ĞµĞ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹ 
                    Ğ¸ Docker-Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸ĞµĞ¼ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸.
                </p>

                <h2>Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°</h2>
                <p>
                    ĞœÑ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ <strong>Ğ¼Ğ¾Ğ½Ğ¾Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹</strong> Ñ Ñ‡Ñ‘Ñ‚ĞºĞ¸Ğ¼ Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸ĞµĞ¼ Ğ½Ğ° ÑĞ»Ğ¾Ğ¸. 
                    Ğ­Ñ‚Ğ¾ Ğ½Ğµ Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑÑ‹ â€” ÑÑ‚Ğ¾ Ğ¼Ğ¾Ğ½Ğ¾Ğ»Ğ¸Ñ‚ Ñ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ¾Ğ¹.
                </p>

                <div class="file-tree">
<span class="folder">scaletrade/</span>
â”œâ”€â”€ <span class="config">pyproject.toml</span>
â”œâ”€â”€ <span class="config">docker-compose.yml</span>
â”œâ”€â”€ <span class="config">docker-compose.dev.yml</span>
â”œâ”€â”€ <span class="config">.env.example</span>
â”œâ”€â”€ <span class="config">alembic.ini</span>
â”œâ”€â”€ <span class="folder">src/</span>
â”‚   â””â”€â”€ <span class="folder">scaletrade/</span>
â”‚       â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚       â”œâ”€â”€ <span class="file">main.py</span>              <span class="comment"># Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ° Litestar</span>
â”‚       â”œâ”€â”€ <span class="file">config.py</span>            <span class="comment"># Pydantic Settings</span>
â”‚       â”‚
â”‚       â”œâ”€â”€ <span class="folder">domain/</span>              <span class="comment"># Ğ§Ğ¸ÑÑ‚Ñ‹Ğ¹ Ğ´Ğ¾Ğ¼ĞµĞ½ (Ğ±ĞµĞ· Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹)</span>
â”‚       â”‚   â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚       â”‚   â”œâ”€â”€ <span class="folder">entities/</span>        <span class="comment"># Dataclasses, Ğ±Ğ¸Ğ·Ğ½ĞµÑ-ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚Ğ¸</span>
â”‚       â”‚   â”‚   â”œâ”€â”€ <span class="file">order.py</span>
â”‚       â”‚   â”‚   â”œâ”€â”€ <span class="file">user.py</span>
â”‚       â”‚   â”‚   â””â”€â”€ <span class="file">account.py</span>
â”‚       â”‚   â”œâ”€â”€ <span class="folder">value_objects/</span>   <span class="comment"># Money, OrderId Ğ¸ Ñ‚.Ğ´.</span>
â”‚       â”‚   â”‚   â””â”€â”€ <span class="file">money.py</span>
â”‚       â”‚   â””â”€â”€ <span class="folder">exceptions/</span>      <span class="comment"># Ğ”Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¸ÑĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ</span>
â”‚       â”‚       â””â”€â”€ <span class="file">order.py</span>
â”‚       â”‚
â”‚       â”œâ”€â”€ <span class="folder">infrastructure/</span>      <span class="comment"># Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ (Ğ‘Ğ”, Ğ±Ñ€Ğ¾ĞºĞµÑ€Ñ‹)</span>
â”‚       â”‚   â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚       â”‚   â”œâ”€â”€ <span class="folder">database/</span>
â”‚       â”‚   â”‚   â”œâ”€â”€ <span class="file">models.py</span>       <span class="comment"># SQLAlchemy Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸</span>
â”‚       â”‚   â”‚   â”œâ”€â”€ <span class="file">session.py</span>      <span class="comment"># Engine, Session Factory</span>
â”‚       â”‚   â”‚   â””â”€â”€ <span class="file">repositories/</span>   <span class="comment"># Ğ ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸</span>
â”‚       â”‚   â”‚       â”œâ”€â”€ <span class="file">base.py</span>
â”‚       â”‚   â”‚       â””â”€â”€ <span class="file">order.py</span>
â”‚       â”‚   â”œâ”€â”€ <span class="folder">messaging/</span>       <span class="comment"># RabbitMQ, Faststream</span>
â”‚       â”‚   â”‚   â”œâ”€â”€ <span class="file">publisher.py</span>
â”‚       â”‚   â”‚   â””â”€â”€ <span class="file">subscribers.py</span>
â”‚       â”‚   â””â”€â”€ <span class="folder">cache/</span>           <span class="comment"># Redis</span>
â”‚       â”‚       â””â”€â”€ <span class="file">redis.py</span>
â”‚       â”‚
â”‚       â”œâ”€â”€ <span class="folder">application/</span>         <span class="comment"># Use Cases / Services</span>
â”‚       â”‚   â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚       â”‚   â”œâ”€â”€ <span class="folder">services/</span>
â”‚       â”‚   â”‚   â””â”€â”€ <span class="file">order_service.py</span>
â”‚       â”‚   â”œâ”€â”€ <span class="folder">dto/</span>             <span class="comment"># Data Transfer Objects</span>
â”‚       â”‚   â”‚   â””â”€â”€ <span class="file">order.py</span>
â”‚       â”‚   â””â”€â”€ <span class="file">uow.py</span>            <span class="comment"># Unit of Work</span>
â”‚       â”‚
â”‚       â”œâ”€â”€ <span class="folder">interface/</span>           <span class="comment"># HTTP Controllers</span>
â”‚       â”‚   â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚       â”‚   â”œâ”€â”€ <span class="folder">http/</span>
â”‚       â”‚   â”‚   â”œâ”€â”€ <span class="file">orders.py</span>       <span class="comment"># Litestar Controllers</span>
â”‚       â”‚   â”‚   â””â”€â”€ <span class="file">users.py</span>
â”‚       â”‚   â””â”€â”€ <span class="folder">schemas/</span>         <span class="comment"># Pydantic Request/Response</span>
â”‚       â”‚       â””â”€â”€ <span class="file">order.py</span>
â”‚       â”‚
â”‚       â””â”€â”€ <span class="folder">di/</span>                  <span class="comment"># Dependency Injection</span>
â”‚           â”œâ”€â”€ <span class="file">__init__.py</span>
â”‚           â””â”€â”€ <span class="file">providers.py</span>      <span class="comment"># Dishka Providers</span>
â”‚
â”œâ”€â”€ <span class="folder">migrations/</span>              <span class="comment"># Alembic Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸</span>
â”‚   â”œâ”€â”€ <span class="file">env.py</span>
â”‚   â””â”€â”€ <span class="folder">versions/</span>
â”‚
â””â”€â”€ <span class="folder">tests/</span>
    â”œâ”€â”€ <span class="file">conftest.py</span>
    â”œâ”€â”€ <span class="folder">unit/</span>
    â”œâ”€â”€ <span class="folder">integration/</span>
    â””â”€â”€ <span class="folder">e2e/</span>
                </div>

                <h2>Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Poetry</h2>
                
                <p>Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ğ¼ <code>pyproject.toml</code> Ñ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ¹ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸ĞµĞ¹:</p>

<pre><code><span class="comment"># pyproject.toml</span>
[tool.poetry]
name = "scaletrade"
version = "0.1.0"
description = "Order Execution & Analytics System"
authors = ["Your Name &lt;you@example.com&gt;"]
readme = "README.md"
packages = [{include = "scaletrade", from = "src"}]

[tool.poetry.dependencies]
python = "^3.11"

<span class="comment"># Web Framework</span>
litestar = {extras = ["standard"], version = "^2.8"}

<span class="comment"># Database</span>
sqlalchemy = {extras = ["asyncio"], version = "^2.0"}
asyncpg = "^0.29"
alembic = "^1.13"

<span class="comment"># Validation & Settings</span>
pydantic = "^2.6"
pydantic-settings = "^2.2"

<span class="comment"># DI Container</span>
dishka = "^1.2"

<span class="comment"># Messaging</span>
faststream = {extras = ["rabbit"], version = "^0.5"}

<span class="comment"># Cache & Distributed</span>
redis = "^5.0"

<span class="comment"># Resiliency</span>
stamina = "^24.2"

<span class="comment"># Analytics</span>
clickhouse-connect = "^0.7"

<span class="comment"># Logging</span>
structlog = "^24.1"

[tool.poetry.group.dev.dependencies]
pytest = "^8.0"
pytest-asyncio = "^0.23"
pytest-cov = "^4.1"
testcontainers = {extras = ["postgres", "rabbitmq", "redis"], version = "^4.0"}
hypothesis = "^6.98"
respx = "^0.20"
freezegun = "^1.4"

<span class="comment"># Code Quality</span>
ruff = "^0.3"
mypy = "^1.9"
pre-commit = "^3.6"

[tool.ruff]
target-version = "py311"
line-length = 100
src = ["src"]

[tool.ruff.lint]
select = [
    "E",     <span class="comment"># pycodestyle errors</span>
    "W",     <span class="comment"># pycodestyle warnings</span>
    "F",     <span class="comment"># pyflakes</span>
    "I",     <span class="comment"># isort</span>
    "B",     <span class="comment"># flake8-bugbear</span>
    "C4",    <span class="comment"># flake8-comprehensions</span>
    "UP",    <span class="comment"># pyupgrade</span>
    "ARG",   <span class="comment"># flake8-unused-arguments</span>
    "SIM",   <span class="comment"># flake8-simplify</span>
]

[tool.mypy]
python_version = "3.11"
strict = true
plugins = ["pydantic.mypy"]

[tool.pytest.ini_options]
asyncio_mode = "auto"
testpaths = ["tests"]
addopts = "-v --tb=short"

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"</code></pre>

                <h2>Docker Compose Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸</h2>
                
                <p>Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ Ñ PostgreSQL, Redis Ğ¸ RabbitMQ:</p>

<pre><code><span class="comment"># docker-compose.dev.yml</span>
version: "3.9"

services:
  <span class="function">postgres</span>:
    image: postgres:16-alpine
    environment:
      POSTGRES_USER: scaletrade
      POSTGRES_PASSWORD: scaletrade_dev
      POSTGRES_DB: scaletrade
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U scaletrade"]
      interval: 5s
      timeout: 5s
      retries: 5

  <span class="function">redis</span>:
    image: redis:7-alpine
    ports:
      - "6379:6379"
    command: redis-server --appendonly yes
    volumes:
      - redis_data:/data

  <span class="function">rabbitmq</span>:
    image: rabbitmq:3.13-management-alpine
    ports:
      - "5672:5672"
      - "15672:15672"  <span class="comment"># Management UI</span>
    environment:
      RABBITMQ_DEFAULT_USER: scaletrade
      RABBITMQ_DEFAULT_PASS: scaletrade_dev

  <span class="function">clickhouse</span>:
    image: clickhouse/clickhouse-server:24.2
    ports:
      - "8123:8123"  <span class="comment"># HTTP interface</span>
      - "9000:9000"  <span class="comment"># Native protocol</span>
    volumes:
      - clickhouse_data:/var/lib/clickhouse

volumes:
  postgres_data:
  redis_data:
  clickhouse_data:</code></pre>

                <h2>ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ</h2>
                
                <p>Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ <code>pydantic-settings</code> Ğ´Ğ»Ñ Ñ‚Ğ¸Ğ¿Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸:</p>

<pre><code><span class="comment"># src/scaletrade/config.py</span>
<span class="keyword">from</span> functools <span class="keyword">import</span> lru_cache
<span class="keyword">from</span> pydantic <span class="keyword">import</span> PostgresDsn, RedisDsn, AmqpDsn
<span class="keyword">from</span> pydantic_settings <span class="keyword">import</span> BaseSettings, SettingsConfigDict


<span class="keyword">class</span> <span class="class-name">Settings</span>(BaseSettings):
    model_config = SettingsConfigDict(
        env_file=<span class="string">".env"</span>,
        env_file_encoding=<span class="string">"utf-8"</span>,
        extra=<span class="string">"ignore"</span>,
    )

    <span class="comment"># Application</span>
    app_name: <span class="type">str</span> = <span class="string">"ScaleTrade"</span>
    debug: <span class="type">bool</span> = <span class="keyword">False</span>
    
    <span class="comment"># Database</span>
    database_url: PostgresDsn
    database_pool_size: <span class="type">int</span> = <span class="number">10</span>
    database_pool_overflow: <span class="type">int</span> = <span class="number">20</span>
    
    <span class="comment"># Redis</span>
    redis_url: RedisDsn
    
    <span class="comment"># RabbitMQ</span>
    rabbitmq_url: AmqpDsn
    
    <span class="comment"># ClickHouse</span>
    clickhouse_host: <span class="type">str</span> = <span class="string">"localhost"</span>
    clickhouse_port: <span class="type">int</span> = <span class="number">8123</span>

    <span class="decorator">@property</span>
    <span class="keyword">def</span> <span class="function">async_database_url</span>(self) -> <span class="type">str</span>:
        <span class="string">"""ĞŸÑ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·ÑƒĞµĞ¼ postgresql:// Ğ² postgresql+asyncpg://"""</span>
        <span class="keyword">return</span> <span class="type">str</span>(self.database_url).replace(
            <span class="string">"postgresql://"</span>, <span class="string">"postgresql+asyncpg://"</span>
        )


<span class="decorator">@lru_cache</span>
<span class="keyword">def</span> <span class="function">get_settings</span>() -> Settings:
    <span class="keyword">return</span> Settings()</code></pre>

                <h2>ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ´Ğ»Ñ ÑÑ‚Ğ°Ñ€Ñ‚Ğ°</h2>

<pre><code><span class="comment"># Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ğ¼ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚</span>
mkdir scaletrade && cd scaletrade
poetry init

<span class="comment"># Ğ£ÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµĞ¼ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸</span>
poetry install

<span class="comment"># Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµĞ¼ Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ</span>
docker-compose -f docker-compose.dev.yml up -d

<span class="comment"># ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼</span>
docker-compose -f docker-compose.dev.yml ps</code></pre>

                <div class="info-box tip">
                    <div class="info-box-title">âœ… ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ñ‚Ğ°ĞºĞ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°?</div>
                    <p>
                        <strong>Domain</strong> Ğ½Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ½Ğ¸ Ğ¾Ñ‚ Ñ‡ĞµĞ³Ğ¾ â€” Ñ‡Ğ¸ÑÑ‚Ğ°Ñ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°.<br>
                        <strong>Infrastructure</strong> Ñ€ĞµĞ°Ğ»Ğ¸Ğ·ÑƒĞµÑ‚ Ğ°Ğ±ÑÑ‚Ñ€Ğ°ĞºÑ†Ğ¸Ğ¸ (Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸, Ğ±Ñ€Ğ¾ĞºĞµÑ€Ñ‹).<br>
                        <strong>Application</strong> Ğ¾Ñ€ĞºĞµÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºÑƒ Ñ‡ĞµÑ€ĞµĞ· ÑĞµÑ€Ğ²Ğ¸ÑÑ‹.<br>
                        <strong>Interface</strong> â€” Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ° HTTP, Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¾ Ğ‘Ğ”.
                    </p>
                </div>

                <div class="task-box">
                    <h4>ğŸ“‹ Ğ—Ğ°Ğ´Ğ°Ğ½Ğ¸Ğµ</h4>
                    <ul class="task-list">
                        <li>Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ¿Ğ°Ğ¿Ğ¾Ğº Ğ¿Ğ¾ ÑÑ…ĞµĞ¼Ğµ Ğ²Ñ‹ÑˆĞµ</li>
                        <li>ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ <code>pyproject.toml</code> Ğ¸ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸</li>
                        <li>Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸ Docker Compose Ğ¸ ÑƒĞ±ĞµĞ´Ğ¸ÑÑŒ, Ñ‡Ñ‚Ğ¾ Ğ²ÑĞµ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚</li>
                        <li>Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ñ„Ğ°Ğ¹Ğ» <code>.env</code> Ñ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸ÑĞ¼Ğ¸</li>
                    </ul>
                </div>

                <div class="nav-footer">
                    <a href="index.html">
                        <div>
                            <div class="nav-label">ĞĞ°Ğ·Ğ°Ğ´</div>
                            <div class="nav-title">â† Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ</div>
                        </div>
                    </a>
                    <a href="part1_schema.html">
                        <div>
                            <div class="nav-label">Ğ”Ğ°Ğ»ĞµĞµ</div>
                            <div class="nav-title">1.1 Ğ¡Ñ…ĞµĞ¼Ğ° Ğ¸ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ â†’</div>
                        </div>
                    </a>
                </div>
            </div>
        </main>
    </div>
</body>
</html>
