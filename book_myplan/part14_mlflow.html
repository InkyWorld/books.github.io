<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>14.1 MLflow Basics ‚Äî ScaleTrade</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="book-layout">
        <aside class="sidebar">
            <div class="sidebar-header">
                <a href="index.html" class="logo">
                    <div class="logo-icon">üìà</div>
                    <span>ScaleTrade</span>
                </a>
            </div>
            <nav class="sidebar-nav">
    <div class="nav-section">
        <div class="nav-section-title">Intro</div>
        <a href="index.html" class="nav-link">üè† –ì–ª–∞–≤–Ω–∞—è</a>
        <a href="setup.html" class="nav-link">üõ† Setup</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 0: Fundamentals</div>
        <a href="part0_internals.html" class="nav-link">0.1 Internals</a>
        <a href="part0_networking.html" class="nav-link">0.2 Networking</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 1: Postgres</div>
        <a href="part1_schema.html" class="nav-link">1.1 Schema</a>
        <a href="part1_indexes.html" class="nav-link">1.2 Indexes</a>
        <a href="part1_transactions.html" class="nav-link">1.3 Transactions</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 2: Litestar</div>
        <a href="part2_litestar.html" class="nav-link">2.1 Framework</a>
        <a href="part2_dishka.html" class="nav-link">2.2 DI (Dishka)</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 3: Brokers</div>
        <a href="part3_redis.html" class="nav-link">3.1 Redis</a>
        <a href="part3_faststream.html" class="nav-link">3.2 FastStream</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 4: Quality</div>
        <a href="part4_testing.html" class="nav-link">4.1 Pytest</a>
        <a href="part4_resiliency.html" class="nav-link">4.2 Resilience</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 5: Observability</div>
        <a href="part5_clickhouse.html" class="nav-link">5.1 Clickhouse</a>
        <a href="part5_logging.html" class="nav-link">5.2 Structured Logs</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 6: Django</div>
        <a href="part6_django.html" class="nav-link">6.1 ORM</a>
        <a href="part6_migrations.html" class="nav-link">6.2 Migrations</a>
        <a href="part6_quality.html" class="nav-link">6.3 Quality</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 7: Microservices</div>
        <a href="part7_grpc.html" class="nav-link">7.1 gRPC</a>
        <a href="part7_graphql.html" class="nav-link">7.2 GraphQL</a>
        <a href="part7_federation.html" class="nav-link">7.3 Federation</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 8: Async</div>
        <a href="part8_asyncio.html" class="nav-link">8.1 Asyncio</a>
        <a href="part8_celery.html" class="nav-link">8.2 Celery</a>
        <a href="part8_dramatiq.html" class="nav-link">8.3 Dramatiq</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 9: API</div>
        <a href="part9_restdesign.html" class="nav-link">9.1 REST Design</a>
        <a href="part9_idempotency.html" class="nav-link">9.2 Idempotency</a>
        <a href="part9_openapi.html" class="nav-link">9.3 OpenAPI</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 10: Culture</div>
        <a href="part10_git.html" class="nav-link">10.1 Git</a>
        <a href="part10_commits.html" class="nav-link">10.2 Commits</a>
        <a href="part10_codereview.html" class="nav-link">10.3 Post-Review</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 11: Security</div>
        <a href="part11_oauth.html" class="nav-link">11.1 OAuth2</a>
        <a href="part11_vault.html" class="nav-link">11.2 Vault</a>
        <a href="part11_owasp.html" class="nav-link">11.3 OWASP</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 12: Kubernetes</div>
        <a href="part12_kubernetes.html" class="nav-link">12.1 K8s Basics</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 13: High Load</div>
        <a href="part13_profiling.html" class="nav-link">13.1 Profiling</a>
        <a href="part13_caching.html" class="nav-link">13.2 Caching</a>
        <a href="part13_loadbalancing.html" class="nav-link">13.3 Load Balancing</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 14: ML Ops</div>
        <a href="part14_mlflow.html" class="nav-link active">14.1 MLflow</a>
        <a href="part14_embeddings.html" class="nav-link">14.2 Embeddings</a>
        <a href="part14_llm.html" class="nav-link">14.3 LLM</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 15: Debugging</div>
        <a href="part15_debugging.html" class="nav-link">15.1 Debugging</a>
        <a href="part15_postmortem.html" class="nav-link">15.2 Postmortem</a>
        <a href="part15_chaos.html" class="nav-link">15.3 Chaos Eng</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 16: DB Advanced</div>
        <a href="part16_indexes.html" class="nav-link">16.1 Indexes Deep</a>
        <a href="part16_isolation.html" class="nav-link">16.2 Isolation</a>
        <a href="part16_sharding.html" class="nav-link">16.3 Sharding</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 17: System Design</div>
        <a href="part17_circuit.html" class="nav-link">17.1 Circuit Breaker</a>
        <a href="part17_ratelimit.html" class="nav-link">17.2 Rate Limit</a>
        <a href="part17_distlock.html" class="nav-link">17.3 Dist Lock</a>
    </div>
    <div class="nav-section">
        <div class="nav-section-title">Part 18: Soft Skills</div>
        <a href="part18_estimation.html" class="nav-link">18.1 Estimation</a>
        <a href="part18_burnout.html" class="nav-link">18.2 Burnout</a>
        <a href="part18_interview.html" class="nav-link">18.3 Interview</a>
    </div>
</nav>
        </aside>

        <main class="main-content">
            <header class="header">
                <div class="breadcrumb">
                    <a href="index.html">ScaleTrade</a>
                    <span>/</span>
                    <span>–ß–∞—Å—Ç—å 14</span>
                    <span>/</span>
                    <span>14.1 MLflow</span>
                </div>
            </header>

            <div class="page-content">
                <h1>–ú–æ–¥—É–ª—å 14.1: MLflow –∏ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –º–æ–¥–µ–ª–∏</h1>
                <p class="lead">ML –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ ‚Äî —ç—Ç–æ –Ω–µ "Jupyter Notebook –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ". –≠—Ç–æ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –∏ —Å–∞–º–∏—Ö –º–æ–¥–µ–ª–µ–π. MLOps —Å–ø–∞—Å–∞–µ—Ç –æ—Ç —Ö–∞–æ—Å–∞.</p>

                <h2>–ó–∞—á–µ–º –Ω—É–∂–µ–Ω MLflow?</h2>
                <p>–ö–æ–≥–¥–∞ –≤—ã –æ–±—É—á–∞–µ—Ç–µ –º–æ–¥–µ–ª—å, –≤—ã –º–µ–Ω—è–µ—Ç–µ –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã (learning rate, depth). –ß–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é –≤—ã –Ω–∞—à–ª–∏ –ª—É—á—à—É—é –º–æ–¥–µ–ª—å, –Ω–æ –∑–∞–±—ã–ª–∏, —Å –∫–∞–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –æ–Ω–∞ –æ–±—É—á–∞–ª–∞—Å—å. MLflow —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É.</p>

                <h2>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã MLflow</h2>

                <h3>1. Tracking</h3>
                <p>–õ–æ–≥–∏—Ä—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –º–µ—Ç—Ä–∏–∫–∏ –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã.</p>
                <div class="code-block">
                    <pre><code>import mlflow

mlflow.set_tracking_uri("http://localhost:5000")

with mlflow.start_run():
    mlflow.log_param("alpha", 0.5)
    mlflow.log_metric("rmse", 0.89)
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–∞–º—É –º–æ–¥–µ–ª—å
    mlflow.sklearn.log_model(sk_model, "my_model")</code></pre>
                </div>

                <h3>2. Projects</h3>
                <p>–°—Ç–∞–Ω–¥–∞—Ä—Ç —É–ø–∞–∫–æ–≤–∫–∏ –∫–æ–¥–∞ ML (–æ–±—ã—á–Ω–æ Conda environment –∏–ª–∏ Docker + —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ YAML), —á—Ç–æ–±—ã –µ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –Ω–∞ –¥—Ä—É–≥–æ–π –º–∞—à–∏–Ω–µ.</p>

                <h3>3. Models</h3>
                <p>–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π ("flavor"). –ú–æ–¥–µ–ª—å, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —á–µ—Ä–µ–∑ MLflow, –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞–∫ python-—Ñ—É–Ω–∫—Ü–∏—é, –∫–∞–∫ Spark UDF –∏–ª–∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∫–∞–∫ REST API –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π.</p>
                <div class="code-block">
                    <pre><code>mlflow models serve -m runs:/<HOST_ID>/model -p 1234</code></pre>
                </div>

                <h3>4. Model Registry</h3>
                <p>–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –ü–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç–∞–¥–∏—è–º–∏:</p>
                <ul>
                    <li><strong>Staging:</strong> –ú–æ–¥–µ–ª—å –ø—Ä–æ—à–ª–∞ –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã, –∂–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ QA.</li>
                    <li><strong>Production:</strong> –¢–µ–∫—É—â–∞—è –±–æ–µ–≤–∞—è –º–æ–¥–µ–ª—å.</li>
                    <li><strong>Archived:</strong> –°—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏.</li>
                </ul>


                <h2>ü™® –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏</h2>
                <div class="accordion">
                    <div class="accordion-item">
                        <div class="accordion-header">
                            <strong>1. Pickle Compatibility Hell</strong>
                        </div>
                        <div class="accordion-content">
                            <p>MLflow —á–∞—Å—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ `pickle` / `joblib`. –ï—Å–ª–∏ –≤—ã –æ–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `scikit-learn` –∏–ª–∏ –ø–æ–º–µ–Ω—è–µ—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤–∞—à–µ–≥–æ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞, —Å—Ç–∞—Ä–∞—è –º–æ–¥–µ–ª—å –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –≥—Ä—É–∑–∏—Ç—å—Å—è. –†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <strong>ONNX</strong> —Ñ–æ—Ä–º–∞—Ç, –æ–Ω –Ω–µ–∑–∞–≤–∏—Å–∏–º –æ—Ç —è–∑—ã–∫–∞ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫.</p>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <div class="accordion-header">
                            <strong>2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å MLflow Server</strong>
                        </div>
                        <div class="accordion-content">
                            <p>–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é MLflow –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –õ—é–±–æ–π, –∫—Ç–æ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ø–æ—Ä—Ç—É 5000, –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –≤–∞—à–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å—Ç–∞–≤—å—Ç–µ Nginx —Å Basic Auth –ø–µ—Ä–µ–¥ MLflow –ø—Ä–∏ –¥–µ–ø–ª–æ–µ.</p>
                        </div>
                    </div>
                </div>

                <h2>üí° –õ–∞–π—Ñ—Ö–∞–∫–∏</h2>
                <ul>
                    <li><strong>Autologging:</strong> –ú–∞–≥–∏—è. –ü—Ä–æ—Å—Ç–æ –≤—ã–∑–æ–≤–∏—Ç–µ <code>mlflow.autolog()</code> –ø–µ—Ä–µ–¥ –æ–±—É—á–µ–Ω–∏–µ–º. MLflow —Å–∞–º –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ Scikit-learn/XGBoost/Tensorflow, —Å–æ—Ö—Ä–∞–Ω–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏, –≥—Ä–∞—Ñ–∏–∫ Confusion Matrix –∏ Feature Importance.</li>
                    <li><strong>DVC (Data Version Control):</strong> MLflow –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä—É–µ—Ç –º–æ–¥–µ–ª–∏, –∞ DVC ‚Äî –¥–∞–Ω–Ω—ã–µ. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö –≤ —Å–≤—è–∑–∫–µ, —á—Ç–æ–±—ã –∑–Ω–∞—Ç—å: "–≠—Ç–∞ –º–æ–¥–µ–ª—å –±—ã–ª–∞ –æ–±—É—á–µ–Ω–∞ –Ω–∞ –¥–∞–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–∏ v2.3".</li>
                    <li><strong>Hydra:</strong> –£–¥–æ–±–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ñ–∏–≥–æ–≤ –¥–ª—è ML —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤. –ü–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `python train.py model.layers=5 optimizer.lr=0.01`.</li>
                </ul>

                <div class="task-box">
                    <h4>üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞</h4>
                    <ul class="task-list">
                        <li>–ó–∞–ø—É—Å—Ç–∏ MLflow Server —Å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º–∏ –≤ –ø–∞–ø–∫–µ `./mlruns`</li>
                        <li>–û–±—É—á–∏ –ø—Ä–æ—Å—Ç—É—é –º–æ–¥–µ–ª—å –∏ –∏—Å–ø–æ–ª—å–∑—É–π `mlflow.autolog()`</li>
                        <li>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π –º–æ–¥–µ–ª—å –≤ Model Registry –∏ –ø—Ä–æ–¥–≤–∏–Ω—å –µ—ë –≤ Stage="Production"</li>
                        <li>–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π –º–æ–¥–µ–ª—å –≤ ONNX —Ñ–æ—Ä–º–∞—Ç</li>
                    </ul>
                </div>
            </div>
        </main>
    </div>
</body>
</html>